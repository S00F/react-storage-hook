# React Storage Hook

A lightweight React 19 custom hook for managing local and session storage.

## Installation

```sh
npm install
```

## Usage

Import and use the hook in your React components:

```javascript
import useStorage from 'react-storage-hook';

function ExampleComponent() {
  const [value, setValue] = useStorage('myKey', 'defaultValue', 'local');

  return (
    <div>
      <p>Stored Value: {value}</p>
      <button onClick={() => setValue('New Value')}>Update Storage</button>
    </div>
  );
}
```

## Build Project

To build the project, run:

```sh
npm run build
```

This will generate the bundled output in the `dist/` directory.

## Run Project

Since this is a library, it does not run independently. However, you can test it by importing the `useStorage` hook into a React project.

## Project Structure

```
react-storage-hook/
│── dist/                   # Compiled output (generated by Webpack)
│── src/                    # Source files
│   ├── useStorage.js       # Custom hook implementation
│   ├── useStorage.test.js  # Unit tests for the hook
│── .gitignore              # Ignore node_modules, dist, etc.
│── package.json            # Project metadata and dependencies
│── webpack.config.js       # Webpack configuration
│── README.md               # Project documentation
│── babel.config.js         # Babel configuration
│── node_modules/           # Installed dependencies (generated after npm install)
```

## Unit Testing

This project includes unit tests using Jest and React Testing Library. To run the tests, install Jest and run:

```sh
npm install --save-dev jest @testing-library/react @testing-library/jest-dom
npm test
```

Example test (`src/useStorage.test.js`):

```javascript
import { renderHook, act } from "@testing-library/react";
import useStorage from "./useStorage";

beforeEach(() => {
  localStorage.clear();
  sessionStorage.clear();
});

test("should use local storage by default", () => {
  const { result } = renderHook(() => useStorage("testKey", "defaultValue"));
  expect(result.current[0]).toBe("defaultValue");
});

test("should update local storage value", () => {
  const { result } = renderHook(() => useStorage("testKey", "defaultValue"));
  act(() => {
    result.current[1]("newValue");
  });
  expect(localStorage.getItem("testKey")).toBe(JSON.stringify("newValue"));
});

test("should use session storage when specified", () => {
  const { result } = renderHook(() => useStorage("sessionKey", "sessionValue", "session"));
  expect(result.current[0]).toBe("sessionValue");
});
```

## .gitignore

```
node_modules/
dist/
.env
.DS_Store
coverage/
```

## package.json

```json
{
  "name": "react-storage-hook",
  "version": "1.0.0",
  "main": "dist/index.js",
  "module": "src/useStorage.js",
  "dependencies": {
    "react": "^19.0.0"
  },
  "devDependencies": {
    "@babel/core": "^7.0.0",
    "@babel/preset-env": "^7.0.0",
    "@babel/preset-react": "^7.0.0",
    "babel-loader": "^8.0.0",
    "webpack": "^5.0.0",
    "webpack-cli": "^5.0.0",
    "jest": "^29.0.0",
    "@testing-library/react": "^14.0.0",
    "@testing-library/jest-dom": "^6.0.0"
  },
  "scripts": {
    "build": "webpack",
    "test": "jest"
  }
}
```

## Babel Configuration (`babel.config.js`)

```javascript
module.exports = {
  presets: [
    "@babel/preset-env",
    "@babel/preset-react"
  ]
};
```

## License

This project is licensed under the MIT License.
